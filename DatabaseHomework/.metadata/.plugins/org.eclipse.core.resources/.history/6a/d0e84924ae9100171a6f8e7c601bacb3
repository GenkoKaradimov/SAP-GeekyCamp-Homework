package console.IO;

import java.sql.Connection;
import java.util.Scanner;

import database.control.Context;

public class UserInput {
	
	private static Scanner scanner;
	private boolean isActive;
	private Context context;
	
	public UserInput(Context context) {
		isActive = true;
		this.context = context;
	}
	
	public boolean isActive() {
		return isActive;
	}
	
	public void waitInput() {
		System.out.println(">");
		
		scanner = new Scanner(System.in);
		String[] input = scanner.nextLine().split(" ");
		
		if(input[0] == "EXIT") {
			System.exit(0);
		}
		
		if(input[0] == "HELP") {
			System.out.println("Full documentation can be found in the project.");
		}
		
		if(input[0] == "STUDENTS") {
			System.out.println(student(input));
		}
		
		
	}
	
	public String student(String[] input) {
		if(input[1] == "CREATE" && input.length == 5) {
			return context.student.create(input[2], Integer.parseInt(input[3]), Integer.parseInt(input[4]));
		} else if(input[1] == "ALL") {
			return context.student.all();
		} else if(input[1] == "UPDATE" && input.length == 8) {
			return context.student.update(input[2], Integer.parseInt(input[3]),
					Integer.parseInt(input[4]), input[5], Integer.parseInt(input[6]), Integer.parseInt(input[7]));
		} else if(input[1] == "DELETE" && input.length == 5) {
			return context.student.delete(input[2], Integer.parseInt(input[3]), Integer.parseInt(input[4]))
		}
		
		ConsoleHelp.studentHelp();
		return "";
	}
}
