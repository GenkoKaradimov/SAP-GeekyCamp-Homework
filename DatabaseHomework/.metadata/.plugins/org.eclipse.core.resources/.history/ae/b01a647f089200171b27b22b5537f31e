package console.IO;

import java.sql.Connection;
import java.util.Scanner;

import database.control.Context;

public class UserInput {
	
	private static Scanner scanner;
	private boolean isActive;
	private Context context;
	
	public UserInput(Context context) {
		isActive = true;
		this.context = context;
	}
	
	public boolean isActive() {
		return isActive;
	}
	
	public void waitInput() {
		System.out.print(">");
		
		scanner = new Scanner(System.in);
		String[] input = scanner.nextLine().split(" ");
		
		if(input[0].equals("EXIT")) {
			System.exit(0);
		} else if(input[0].equals("HELP")) {
			ConsoleHelp.generalHelp();
		} else if(input[0].equals("STUDENTS")) {
			System.out.println(student(input));
		}
		
		// todo  - sushtoto za kursovete
	}
	
	public String student(String[] input) {
		if(input[1].equals("CREATE") && input.length == 5) {
			return context.student.create(input[2], Integer.parseInt(input[3]), Integer.parseInt(input[4]));
		} else if(input[1].equals("ALL")) {
			return context.student.all();
		} else if(input[1].equals("UPDATE") && input.length == 8) {
			return context.student.update(input[2], Integer.parseInt(input[3]),
					Integer.parseInt(input[4]), input[5], Integer.parseInt(input[6]), Integer.parseInt(input[7]));
		} else if(input[1].equals("DELETE") && input.length == 5) {
			return context.student.delete(input[2], Integer.parseInt(input[3]), Integer.parseInt(input[4]));
		} else if(input[1].equals("COURSES") && input.length == 4) {
			return context.sc.getStudentCourses(input[2], Integer.parseInt(input[3]));
		} else if(input[1].equals("ADD-TO-COURSE") && input.length == 6) {
			return context.sc.addStudentToCourse(input[2], Integer.parseInt(input[3]), input[4], input[5]);
		} else if(input[1].equals("REMOVE-FROM-COURSE") && input.length == 6) {
			return context.sc.removeStudentFromCourse(input[2], Integer.parseInt(input[3]), input[4], input[5]);
		}	
		
		ConsoleHelp.studentHelp();
		return "";
	}
	
	public String course(String[] input) {
		
	}
}
